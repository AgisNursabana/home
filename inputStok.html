<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>Input dan Cek Stok Dimsum</title>
  <style>
    body { font-family: sans-serif; margin: 20px; }
    input { width: 80%; height: 30px; font-size: 18px; margin-bottom: 10px; }
    button { font-size: 16px; padding: 6px 12px; margin: 5px; }
  </style>
</head>
<body>
  <h2>üì¶ Input dan Cek Stok Dimsum</h2>

  <label>Tanggal:</label><br>
  <input type="date" id="tanggal"><br>

  <label>Stok Dimsum Mentai:</label><br>
  <input type="number" id="mentai" placeholder="Isi stok mentai"><br>

  <label>Stok Dimsum Goreng:</label><br>
  <input type="number" id="goreng" placeholder="Isi stok goreng"><br>

  <button onclick="simpan()">üíæ Simpan Stok</button>
  <button onclick="cek()">üîç Cek Stok</button>

  <p id="status"></p>

  <script>
    const scriptURL = "https://script.google.com/macros/s/AKfycbxj7wCxQavusi6KgsOE6g_7b-_hpUunAJ-FkqpAE9Mb4tMMHO4GxK5D1cD0vJB8hSJDOw/exec";

    async function simpan() {
      const tanggal = document.getElementById('tanggal').value;
      const mentai = document.getElementById('mentai').value;
      const goreng = document.getElementById('goreng').value;
      const status = document.getElementById('status');
      
      if (!tanggal) {
        status.textContent = "‚ùå Tanggal belum diisi.";
        return;
      }

      try {
        const res = await fetch(scriptURL, {
          method: 'POST',
          body: new URLSearchParams({ tanggal, mentai, goreng })
        });
        const data = await res.json();
        status.textContent = data.message;
      } catch (err) {
        status.textContent = "‚ùå Gagal simpan: " + err.message;
      }
    }

    async function cek() {
      const status = document.getElementById('status');
      try {
        const res = await fetch(scriptURL);
        const data = await res.json();
        document.getElementById('tanggal').value = data.tanggal;
        document.getElementById('mentai').value = data.mentai;
        document.getElementById('goreng').value = data.goreng;
        status.textContent = "‚úÖ Data stok terakhir berhasil dimuat.";
      } catch (err) {
        status.textContent = "‚ùå Gagal cek stok: " + err.message;
      }
    }
  </script>
</body>
</html>